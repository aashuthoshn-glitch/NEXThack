/*! For license information please see dashboardtalk-dashboard.js.LICENSE.txt */
(()=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(e)}function e(){var n,o,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function s(e,a,r,i){var s=a&&a.prototype instanceof c?a:c,d=Object.create(s.prototype);return t(d,"_invoke",function(e,t,a){var r,i,s,c=0,d=a||[],u=!1,p={p:0,n:0,v:n,a:g,f:g.bind(n,4),d:function(e,t){return r=e,i=0,s=n,p.n=t,l}};function g(e,t){for(i=e,s=t,o=0;!u&&c&&!a&&o<d.length;o++){var a,r=d[o],g=p.p,h=r[2];e>3?(a=h===t)&&(s=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=n):r[0]<=g&&((a=e<2&&g<r[1])?(i=0,p.v=t,p.n=r[1]):g<h&&(a=e<3||r[0]>t||t>h)&&(r[4]=e,r[5]=t,p.n=h,i=0))}if(a||e>1)return l;throw u=!0,t}return function(a,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&g(d,h),i=d,s=h;(o=i<2?n:s)||!u;){r||(i?i<3?(i>1&&(p.n=-1),g(i,s)):p.n=s:p.v=s);try{if(c=2,r){if(i||(a="next"),o=r[a]){if(!(o=o.call(r,s)))throw TypeError("iterator result is not an object");if(!o.done)return o;s=o.value,i<2&&(i=0)}else 1===i&&(o=r.return)&&o.call(r),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);r=n}else if((o=(u=p.n<0)?s:e.call(t,p))!==l)break}catch(e){r=n,i=1,s=e}finally{c=1}}return{value:o,done:u}}}(e,r,i),!0),d}var l={};function c(){}function d(){}function u(){}o=Object.getPrototypeOf;var p=[][r]?o(o([][r]())):(t(o={},r,function(){return this}),o),g=u.prototype=c.prototype=Object.create(p);function h(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,t(n,i,"GeneratorFunction")),n.prototype=Object.create(g),n}return d.prototype=u,t(g,"constructor",u),t(u,"constructor",d),d.displayName="GeneratorFunction",t(u,i,"GeneratorFunction"),t(g),t(g,i,"Generator"),t(g,r,function(){return this}),t(g,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:h}})()}function t(n,e,o,a){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}t=function(n,e,o,a){function i(e,o){t(n,e,function(n){return this._invoke(e,o,n)})}e?r?r(n,e,{value:o,enumerable:!a,configurable:!a,writable:!a}):n[e]=o:(i("next",0),i("throw",1),i("return",2))},t(n,e,o,a)}function o(n,e,t,o,a,r,i){try{var s=n[r](i),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(o,a)}function a(n){return function(){var e=this,t=arguments;return new Promise(function(a,r){var i=n.apply(e,t);function s(n){o(i,a,r,s,l,"next",n)}function l(n){o(i,a,r,s,l,"throw",n)}s(void 0)})}}function r(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,i(o.key),o)}}function i(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}var s,l=function(){return n=function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.containerId=e,this.messages=[],this.loading=!1,this.error=null,this.refreshInterval=null,this.chatbotEnabled=!0,this.botTyping=!1,this.newMessage="",this.onlineUsers=[],this.showCreateGroup=!1,this.newGroupName="",this.selectedMembers=[],this.availableUsers=[{id:"aashu",displayName:"Aashu",online:!0},{id:"admin",displayName:"Admin",online:!0},{id:"adithya",displayName:"Adithya",online:!1},{id:"dhanush",displayName:"Dhanush",online:!0}],this.conversations=[],this.callInProgress=!1,this.notifications=[]},t=[{key:"init",value:(l=a(e().m(function n(){var t=this;return e().w(function(n){for(;;)switch(n.n){case 0:return this.render(),n.n=1,this.loadMessages();case 1:this.loadOnlineUsers(),this.loadConversations(),this.refreshInterval=setInterval(function(){t.loadMessages(),t.loadOnlineUsers()},3e4),this.startRealTimeUpdates();case 2:return n.a(2)}},n,this)})),function(){return l.apply(this,arguments)})},{key:"render",value:function(){var n=document.getElementById(this.containerId);n?(n.innerHTML='\n      <div class="talk-widget">\n        <div class="talk-widget__header">\n          <h3 class="talk-widget__title">\n            <span class="icon icon-talk"></span>\n            Nextcloud Talk\n            <span class="online-indicator" id="online-indicator">'.concat(this.onlineUsers.length,' online</span>\n          </h3>\n          <div class="talk-widget__actions">\n            <button class="talk-widget__refresh" onclick="talkWidget.refreshMessages()" title="Refresh messages">\n              <span class="icon icon-refresh"></span>\n            </button>\n            <button class="talk-widget__new-group" onclick="talkWidget.showCreateGroupModal()" title="Create new group">\n              <span class="icon icon-add"></span>\n            </button>\n            <button class="talk-widget__bot-toggle ').concat(this.chatbotEnabled?"active":"",'" onclick="talkWidget.toggleChatbot()" title="Toggle AI Chatbot">\n              🤖\n            </button>\n          </div>\n        </div>\n\n        \x3c!-- Group Creation Modal --\x3e\n        <div class="modal-overlay" id="group-modal" style="display: none;">\n          <div class="modal-content" onclick="event.stopPropagation()">\n            <h3>Create New Group</h3>\n            <div class="form-group">\n              <input type="text" id="group-name" placeholder="Group name" class="form-input">\n            </div>\n            <div class="form-group">\n              <label>Select Members:</label>\n              <div class="user-list" id="user-list">\n                ').concat(this.availableUsers.map(function(n){return'\n                  <label class="user-checkbox">\n                    <input type="checkbox" value="'.concat(n.id,'" class="member-checkbox">\n                    <span class="user-name">\n                      ').concat(n.displayName,'\n                      <span class="user-status ').concat(n.online?"online":"",'">\n                        ').concat(n.online?"🟢":"🔴","\n                      </span>\n                    </span>\n                  </label>\n                ")}).join(""),'\n              </div>\n            </div>\n            <div class="modal-actions">\n              <button onclick="talkWidget.createGroup()" class="btn-primary">Create Group</button>\n              <button onclick="talkWidget.hideCreateGroupModal()" class="btn-secondary">Cancel</button>\n            </div>\n          </div>\n        </div>\n\n        <div class="talk-widget__content" id="talk-widget-content">\n          <div class="talk-widget__loading">\n            <span class="icon icon-loading"></span>\n            Loading messages...\n          </div>\n        </div>\n\n        \x3c!-- Bot Typing Indicator --\x3e\n        <div class="bot-typing" id="bot-typing" style="display: none;">\n          <div class="typing-indicator">\n            <span class="bot-avatar">🤖</span>\n            <div class="typing-dots">\n              <span></span>\n              <span></span>\n              <span></span>\n            </div>\n            <span class="typing-text">NextBot is typing...</span>\n          </div>\n        </div>\n\n        \x3c!-- Chatbot Input Area --\x3e\n        <div class="chatbot-input-area" id="chatbot-input" style="display: none;">\n          <div class="input-container">\n            <input type="text" id="chatbot-message" placeholder="Ask NextBot anything..." class="chatbot-input">\n            <button onclick="talkWidget.sendMessage()" class="send-btn" id="send-btn">\n              <span id="send-icon">📤</span>\n            </button>\n          </div>\n          <div class="bot-status">\n            <span class="bot-indicator">🤖 NextBot is online</span>\n            <button onclick="talkWidget.toggleChatbot()" class="bot-toggle-btn">Disable</button>\n          </div>\n        </div>\n\n        <div class="talk-widget__footer">\n          <button class="talk-widget__compose" onclick="talkWidget.showCreateGroupModal()" title="Create new group">\n            <span class="icon icon-add"></span>\n            New Group\n          </button>\n          <button class="talk-widget__compose" onclick="talkWidget.openTalkApp()" title="Open Talk app">\n            <span class="icon icon-talk"></span>\n            Open Talk\n          </button>\n        </div>\n      </div>\n    '),this.addStyles(),this.attachEventListeners()):console.error("Container not found:",this.containerId)}},{key:"addStyles",value:function(){if(!document.getElementById("talk-widget-styles")){var n=document.createElement("style");n.id="talk-widget-styles",n.textContent='\n      .talk-widget {\n        background: var(--color-background-plain, #ffffff);\n        border-radius: var(--border-radius, 8px);\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        overflow: hidden;\n        font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n        position: relative;\n      }\n\n      .talk-widget__header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 12px 16px;\n        background: linear-gradient(135deg, var(--color-primary, #0082c9), var(--color-primary-hover, #006ba3));\n        color: white;\n        border-bottom: 1px solid var(--color-border, #e0e0e0);\n      }\n\n      .talk-widget__title {\n        margin: 0;\n        font-size: 16px;\n        font-weight: 600;\n        color: white;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n      }\n\n      .online-indicator {\n        background: rgba(255, 255, 255, 0.2);\n        padding: 2px 8px;\n        border-radius: 12px;\n        font-size: 11px;\n        font-weight: 500;\n        margin-left: 8px;\n      }\n\n      .talk-widget__actions {\n        display: flex;\n        gap: 8px;\n      }\n\n      .talk-widget__refresh,\n      .talk-widget__new-group,\n      .talk-widget__bot-toggle {\n        background: rgba(255, 255, 255, 0.2);\n        border: none;\n        padding: 6px;\n        cursor: pointer;\n        border-radius: var(--border-radius, 8px);\n        color: white;\n        transition: all 0.2s ease;\n        width: 32px;\n        height: 32px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .talk-widget__bot-toggle.active {\n        background: rgba(76, 175, 80, 0.8);\n        box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);\n      }\n\n      .talk-widget__refresh:hover,\n      .talk-widget__new-group:hover,\n      .talk-widget__bot-toggle:hover {\n        background: rgba(255, 255, 255, 0.3);\n        transform: scale(1.05);\n      }\n\n      .talk-widget__refresh:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n        transform: none;\n      }\n\n      /* Modal Styles */\n      .modal-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.5);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 1000;\n      }\n\n      .modal-content {\n        background: var(--color-background-plain, #ffffff);\n        border-radius: var(--border-radius, 8px);\n        padding: 24px;\n        width: 90%;\n        max-width: 500px;\n        max-height: 80vh;\n        overflow-y: auto;\n        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\n      }\n\n      .modal-content h3 {\n        margin: 0 0 20px 0;\n        color: var(--color-text, #333);\n        font-size: 20px;\n      }\n\n      .form-group {\n        margin-bottom: 16px;\n      }\n\n      .form-input {\n        width: 100%;\n        padding: 10px 12px;\n        border: 1px solid var(--color-border, #e0e0e0);\n        border-radius: var(--border-radius, 8px);\n        font-size: 14px;\n        background: var(--color-background-plain, #ffffff);\n        color: var(--color-text, #333);\n      }\n\n      .form-input:focus {\n        outline: none;\n        border-color: var(--color-primary, #0082c9);\n        box-shadow: 0 0 0 2px rgba(0, 130, 201, 0.2);\n      }\n\n      .user-list {\n        max-height: 200px;\n        overflow-y: auto;\n        border: 1px solid var(--color-border, #e0e0e0);\n        border-radius: var(--border-radius, 8px);\n        padding: 8px;\n      }\n\n      .user-checkbox {\n        display: flex;\n        align-items: center;\n        padding: 8px;\n        cursor: pointer;\n        border-radius: var(--border-radius, 8px);\n        transition: background-color 0.2s ease;\n      }\n\n      .user-checkbox:hover {\n        background: var(--color-background-hover, #f5f5f5);\n      }\n\n      .user-name {\n        margin-left: 8px;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-size: 14px;\n        color: var(--color-text, #333);\n      }\n\n      .user-status {\n        font-size: 12px;\n      }\n\n      .user-status.online {\n        color: #4CAF50;\n      }\n\n      .modal-actions {\n        display: flex;\n        gap: 12px;\n        justify-content: flex-end;\n        margin-top: 20px;\n      }\n\n      .btn-primary,\n      .btn-secondary {\n        padding: 10px 20px;\n        border: none;\n        border-radius: var(--border-radius, 8px);\n        cursor: pointer;\n        font-size: 14px;\n        font-weight: 500;\n        transition: all 0.2s ease;\n      }\n\n      .btn-primary {\n        background: var(--color-primary, #0082c9);\n        color: white;\n      }\n\n      .btn-primary:hover:not(:disabled) {\n        background: var(--color-primary-hover, #006ba3);\n        transform: translateY(-1px);\n      }\n\n      .btn-primary:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n        transform: none;\n      }\n\n      .btn-secondary {\n        background: var(--color-background-hover, #f5f5f5);\n        color: var(--color-text, #333);\n        border: 1px solid var(--color-border, #e0e0e0);\n      }\n\n      .btn-secondary:hover {\n        background: var(--color-border, #e0e0e0);\n      }\n\n      .talk-widget__content {\n        max-height: 500px;\n        overflow-y: auto;\n      }\n\n      .talk-widget__loading,\n      .talk-widget__error,\n      .talk-widget__empty {\n        padding: 20px;\n        text-align: center;\n        color: var(--color-text-lighter, #666);\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 12px;\n      }\n\n      .talk-widget__error {\n        color: var(--color-error, #e74c3c);\n      }\n\n      .talk-widget__retry {\n        background: var(--color-primary, #0082c9);\n        color: white;\n        border: none;\n        padding: 8px 16px;\n        border-radius: var(--border-radius, 8px);\n        cursor: pointer;\n        font-size: 12px;\n        transition: all 0.2s ease;\n      }\n\n      .talk-widget__retry:hover {\n        background: var(--color-primary-hover, #006ba3);\n        transform: translateY(-1px);\n      }\n\n      .talk-widget__messages {\n        padding: 8px;\n      }\n\n      .talk-widget__message {\n        padding: 16px;\n        border-radius: var(--border-radius, 8px);\n        margin-bottom: 12px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        border: 1px solid transparent;\n        background: var(--color-background-plain, #ffffff);\n        position: relative;\n      }\n\n      .talk-widget__message:hover {\n        background: var(--color-background-hover, #f5f5f5);\n        border-color: var(--color-primary, #0082c9);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n      }\n\n      .talk-widget__message.is-bot {\n        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);\n        border-left: 4px solid #4CAF50;\n      }\n\n      .talk-widget__message-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        margin-bottom: 8px;\n      }\n\n      .conversation-info {\n        flex: 1;\n      }\n\n      .talk-widget__conversation-name {\n        font-weight: 600;\n        color: var(--color-primary, #0082c9);\n        font-size: 14px;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n      }\n\n      .group-badge {\n        background: var(--color-primary, #0082c9);\n        color: white;\n        padding: 2px 6px;\n        border-radius: 10px;\n        font-size: 10px;\n        font-weight: 500;\n      }\n\n      .bot-badge {\n        background: #4CAF50;\n        color: white;\n        padding: 2px 6px;\n        border-radius: 10px;\n        font-size: 10px;\n        font-weight: 500;\n      }\n\n      .talk-widget__message-time {\n        font-size: 11px;\n        color: var(--color-text-lighter, #666);\n        white-space: nowrap;\n      }\n\n      .talk-widget__message-content {\n        font-size: 13px;\n        line-height: 1.4;\n        color: var(--color-text, #333);\n        word-wrap: break-word;\n      }\n\n      .message-sender {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 4px;\n      }\n\n      .sender-avatar {\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background: var(--color-primary, #0082c9);\n        color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 10px;\n        font-weight: 600;\n        border: 2px solid transparent;\n      }\n\n      .sender-avatar.online {\n        border-color: #4CAF50;\n      }\n\n      .message-text {\n        margin-bottom: 8px;\n      }\n\n      .message-reactions {\n        display: flex;\n        gap: 8px;\n        margin-top: 8px;\n      }\n\n      .reaction {\n        background: var(--color-background-hover, #f5f5f5);\n        padding: 2px 6px;\n        border-radius: 12px;\n        font-size: 11px;\n        border: 1px solid var(--color-border, #e0e0e0);\n      }\n\n      .message-actions {\n        display: flex;\n        gap: 4px;\n        margin-top: 8px;\n        opacity: 0;\n        transition: opacity 0.2s ease;\n      }\n\n      .talk-widget__message:hover .message-actions {\n        opacity: 1;\n      }\n\n      .action-btn {\n        background: var(--color-background-hover, #f5f5f5);\n        border: 1px solid var(--color-border, #e0e0e0);\n        padding: 4px 8px;\n        border-radius: 12px;\n        cursor: pointer;\n        font-size: 12px;\n        transition: all 0.2s ease;\n        color: var(--color-text, #333);\n      }\n\n      .action-btn:hover {\n        background: var(--color-primary, #0082c9);\n        color: white;\n        transform: scale(1.1);\n      }\n\n      .call-btn {\n        background: #4CAF50;\n        color: white;\n        border-color: #4CAF50;\n      }\n\n      .call-btn:hover {\n        background: #45a049;\n        transform: scale(1.1);\n      }\n\n      .bot-btn {\n        background: #4CAF50;\n        color: white;\n        border-color: #4CAF50;\n      }\n\n      .bot-btn:hover {\n        background: #45a049;\n        transform: scale(1.1);\n      }\n\n      .talk-widget__footer {\n        padding: 12px 16px;\n        background: var(--color-background-hover, #f5f5f5);\n        border-top: 1px solid var(--color-border, #e0e0e0);\n        display: flex;\n        gap: 8px;\n      }\n\n      .talk-widget__compose {\n        flex: 1;\n        background: var(--color-primary, #0082c9);\n        color: white;\n        border: none;\n        padding: 10px 12px;\n        border-radius: var(--border-radius, 8px);\n        cursor: pointer;\n        font-size: 13px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 6px;\n        transition: all 0.2s ease;\n        font-weight: 500;\n      }\n\n      .talk-widget__compose:hover {\n        background: var(--color-primary-hover, #006ba3);\n        transform: translateY(-1px);\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n      }\n\n      .talk-widget__compose:active {\n        transform: translateY(0);\n      }\n\n      /* Chatbot Styles */\n      .bot-quick-questions {\n        margin-top: 20px;\n        padding: 16px;\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        border-radius: var(--border-radius, 8px);\n        color: white;\n      }\n\n      .bot-quick-questions h4 {\n        margin: 0 0 12px 0;\n        font-size: 16px;\n        font-weight: 600;\n      }\n\n      .quick-questions {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 8px;\n      }\n\n      .quick-question-btn {\n        background: rgba(255, 255, 255, 0.2);\n        border: none;\n        padding: 8px 12px;\n        border-radius: 20px;\n        color: white;\n        font-size: 12px;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        text-align: left;\n      }\n\n      .quick-question-btn:hover {\n        background: rgba(255, 255, 255, 0.3);\n        transform: translateY(-1px);\n      }\n\n      .bot-typing {\n        padding: 12px 16px;\n        background: var(--color-background-hover, #f5f5f5);\n        border-top: 1px solid var(--color-border, #e0e0e0);\n      }\n\n      .typing-indicator {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        color: var(--color-text-lighter, #666);\n        font-size: 14px;\n      }\n\n      .bot-avatar {\n        font-size: 20px;\n        animation: pulse 2s infinite;\n      }\n\n      .typing-dots {\n        display: flex;\n        gap: 4px;\n      }\n\n      .typing-dots span {\n        width: 6px;\n        height: 6px;\n        background: var(--color-primary, #0082c9);\n        border-radius: 50%;\n        animation: typing 1.4s infinite ease-in-out;\n      }\n\n      .typing-dots span:nth-child(1) { animation-delay: -0.32s; }\n      .typing-dots span:nth-child(2) { animation-delay: -0.16s; }\n\n      @keyframes typing {\n        0%, 80%, 100% { transform: scale(0); }\n        40% { transform: scale(1); }\n      }\n\n      @keyframes pulse {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.5; }\n      }\n\n      .chatbot-input-area {\n        background: var(--color-background-hover, #f5f5f5);\n        border-top: 1px solid var(--color-border, #e0e0e0);\n        padding: 12px 16px;\n      }\n\n      .input-container {\n        display: flex;\n        gap: 8px;\n        margin-bottom: 8px;\n      }\n\n      .chatbot-input {\n        flex: 1;\n        padding: 10px 12px;\n        border: 1px solid var(--color-border, #e0e0e0);\n        border-radius: 20px;\n        background: var(--color-background-plain, #ffffff);\n        color: var(--color-text, #333);\n        font-size: 14px;\n        outline: none;\n        transition: all 0.2s ease;\n      }\n\n      .chatbot-input:focus {\n        border-color: var(--color-primary, #0082c9);\n        box-shadow: 0 0 0 2px rgba(0, 130, 201, 0.2);\n      }\n\n      .chatbot-input:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n\n      .send-btn {\n        background: var(--color-primary, #0082c9);\n        border: none;\n        padding: 10px 16px;\n        border-radius: 20px;\n        color: white;\n        cursor: pointer;\n        font-size: 16px;\n        transition: all 0.2s ease;\n        min-width: 44px;\n      }\n\n      .send-btn:hover:not(:disabled) {\n        background: var(--color-primary-hover, #006ba3);\n        transform: scale(1.05);\n      }\n\n      .send-btn:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n        transform: none;\n      }\n\n      .bot-status {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 12px;\n        color: var(--color-text-lighter, #666);\n      }\n\n      .bot-indicator {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n      }\n\n      .bot-toggle-btn {\n        background: none;\n        border: 1px solid var(--color-border, #e0e0e0);\n        padding: 4px 8px;\n        border-radius: 12px;\n        color: var(--color-text-lighter, #666);\n        cursor: pointer;\n        font-size: 11px;\n        transition: all 0.2s ease;\n      }\n\n      .bot-toggle-btn:hover {\n        background: var(--color-background-hover, #f5f5f5);\n        color: var(--color-text, #333);\n      }\n\n      .icon {\n        display: inline-block;\n        width: 16px;\n        height: 16px;\n        background-size: contain;\n        background-repeat: no-repeat;\n        background-position: center;\n      }\n\n      .icon-talk::before { content: "💬"; }\n      .icon-refresh::before { content: "🔄"; }\n      .icon-loading::before { content: "⏳"; }\n      .icon-error::before { content: "❌"; }\n      .icon-add::before { content: "➕"; }\n\n      /* Responsive Design */\n      @media (max-width: 768px) {\n        .modal-content {\n          width: 95%;\n          padding: 16px;\n        }\n        \n        .talk-widget__footer {\n          flex-direction: column;\n        }\n        \n        .message-actions {\n          opacity: 1;\n        }\n      }\n    ',document.head.appendChild(n)}}},{key:"loadMessages",value:(s=a(e().m(function n(){var t;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:return this.loading=!0,this.error=null,n.p=1,n.n=2,new Promise(function(n){return setTimeout(n,1e3)});case 2:this.messages=[{id:1,message:"Hello! How are you doing today?",actorDisplayName:"John Doe",timestamp:Math.floor(Date.now()/1e3)-300,conversation:{token:"room1",displayName:"General Chat",type:"group"}},{id:2,message:"The project is going well, thanks for asking!",actorDisplayName:"Jane Smith",timestamp:Math.floor(Date.now()/1e3)-600,conversation:{token:"room2",displayName:"Project Team",type:"group"}},{id:3,message:"Don't forget about the meeting tomorrow at 2 PM",actorDisplayName:"Mike Johnson",timestamp:Math.floor(Date.now()/1e3)-900,conversation:{token:"room3",displayName:"Team Updates",type:"group"}}],this.updateContent(),n.n=4;break;case 3:n.p=3,t=n.v,console.error("Error loading messages:",t),this.error="Failed to load messages",this.updateContent();case 4:return n.p=4,this.loading=!1,n.f(4);case 5:return n.a(2)}},n,this,[[1,3,4,5]])})),function(){return s.apply(this,arguments)})},{key:"updateContent",value:function(){var n=this,e=document.getElementById("talk-widget-content");if(e)if(this.loading&&0===this.messages.length)e.innerHTML='\n        <div class="talk-widget__loading">\n          <span class="icon icon-loading"></span>\n          Loading messages...\n        </div>\n      ';else if(this.error)e.innerHTML='\n        <div class="talk-widget__error">\n          <span class="icon icon-error"></span>\n          '.concat(this.error,'\n          <button class="talk-widget__retry" onclick="talkWidget.refreshMessages()">Retry</button>\n        </div>\n      ');else if(0===this.messages.length)e.innerHTML='\n        <div class="talk-widget__empty">\n          <span class="icon icon-talk"></span>\n          No messages found\n          <button onclick="talkWidget.showCreateGroupModal()" class="btn-primary">Create your first group!</button>\n          \n          '.concat(this.chatbotEnabled?'\n            <div class="bot-quick-questions">\n              <h4>Ask NextBot anything:</h4>\n              <div class="quick-questions">\n                <button onclick="talkWidget.askBot(\'How do I create a group?\')" class="quick-question-btn">\n                  How do I create a group?\n                </button>\n                <button onclick="talkWidget.askBot(\'How do I start a video call?\')" class="quick-question-btn">\n                  How do I start a video call?\n                </button>\n                <button onclick="talkWidget.askBot(\'What features are available?\')" class="quick-question-btn">\n                  What features are available?\n                </button>\n                <button onclick="talkWidget.askBot(\'Who are the users?\')" class="quick-question-btn">\n                  Who are the users?\n                </button>\n              </div>\n            </div>\n          ':"","\n        </div>\n      ");else{var t=this.messages.map(function(e){return'\n        <div class="talk-widget__message '.concat(e.isBot?"is-bot":"",'" onclick="talkWidget.openConversation(\'').concat(e.conversation.token,'\')">\n          <div class="talk-widget__message-header">\n            <div class="conversation-info">\n              <span class="talk-widget__conversation-name">\n                ').concat(e.conversation.displayName,"\n                ").concat("group"===e.conversation.type?'<span class="group-badge">Group</span>':"","\n                ").concat(e.isBot?'<span class="bot-badge">🤖 Bot</span>':"",'\n              </span>\n            </div>\n            <span class="talk-widget__message-time">\n              ').concat(n.formatTime(e.timestamp),'\n            </span>\n          </div>\n          <div class="talk-widget__message-content">\n            <div class="message-sender">\n              <span class="sender-avatar ').concat(n.isUserOnline(e.actorId)?"online":"",'">\n                ').concat(e.actorDisplayName.charAt(0).toUpperCase(),"\n              </span>\n              <strong>").concat(e.actorDisplayName,':</strong>\n            </div>\n            <div class="message-text">').concat(e.message.replace(/\n/g,"<br>"),"</div>\n            ").concat(e.reactions&&e.reactions.length>0?'\n              <div class="message-reactions">\n                '.concat(e.reactions.map(function(n){return'\n                  <span class="reaction">'.concat(n.emoji," ").concat(n.count,"</span>\n                ")}).join(""),"\n              </div>\n            "):"",'\n          </div>\n          <div class="message-actions">\n            <button onclick="event.stopPropagation(); talkWidget.addReaction(\'').concat(e.id,'\', \'👍\')" class="action-btn" title="Like">👍</button>\n            <button onclick="event.stopPropagation(); talkWidget.addReaction(\'').concat(e.id,'\', \'❤️\')" class="action-btn" title="Love">❤️</button>\n            <button onclick="event.stopPropagation(); talkWidget.addReaction(\'').concat(e.id,'\', \'😂\')" class="action-btn" title="Laugh">😂</button>\n            ').concat(e.isBot?'\n              <button onclick="event.stopPropagation(); talkWidget.askBot(\'Thanks!\')" class="action-btn bot-btn" title="Reply to Bot">💬</button>\n            ':"\n              <button onclick=\"event.stopPropagation(); talkWidget.startCall('".concat(e.conversation.token,'\')" class="action-btn call-btn" title="Start Call">📞</button>\n            '),"\n          </div>\n        </div>\n      ")}).join("");e.innerHTML='<div class="talk-widget__messages">'.concat(t,"</div>")}}},{key:"askBot",value:function(n){var e=document.getElementById("chatbot-message");e&&(e.value=n,this.sendMessage())}},{key:"isUserOnline",value:function(n){var e=this.availableUsers.find(function(e){return e.id===n});return!!e&&e.online}},{key:"addReaction",value:function(n,e){var t=this.messages.find(function(e){return e.id==n});if(t){t.reactions||(t.reactions=[]);var o=t.reactions.find(function(n){return n.emoji===e});o?o.count++:t.reactions.push({emoji:e,count:1}),this.updateContent()}}},{key:"startCall",value:function(n){var e=this;this.callInProgress?alert("Call already in progress"):(this.callInProgress=!0,alert("Starting call..."),setTimeout(function(){window.open("/apps/spreed/#/call/".concat(n),"_blank"),e.callInProgress=!1},2e3))}},{key:"refreshMessages",value:(i=a(e().m(function n(){return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.loadMessages();case 1:return n.a(2)}},n,this)})),function(){return i.apply(this,arguments)})},{key:"formatTime",value:function(n){var e=new Date(1e3*n),t=new Date-e;return t<6e4?"Just now":t<36e5?Math.floor(t/6e4)+"m ago":t<864e5?Math.floor(t/36e5)+"h ago":e.toLocaleDateString()}},{key:"openConversation",value:function(n){window.open("/apps/spreed/#/call/".concat(n),"_blank")}},{key:"openTalkApp",value:function(){window.open("/apps/spreed/","_blank")}},{key:"sendMessage",value:(o=a(e().m(function n(){var t,o,a,r,i;return e().w(function(n){for(;;)switch(n.n){case 0:if(t=document.getElementById("chatbot-message"),(o=t.value.trim())&&this.chatbotEnabled){n.n=1;break}return n.a(2);case 1:if(t.value="",a={id:Date.now(),message:o,actorDisplayName:"You",actorId:"current-user",timestamp:Math.floor(Date.now()/1e3),conversation:{token:"current",displayName:"Chat",type:"direct"},reactions:[]},this.messages.unshift(a),this.updateContent(),!this.chatbotEnabled){n.n=3;break}return this.botTyping=!0,this.showBotTyping(),n.n=2,new Promise(function(n){return setTimeout(n,1500)});case 2:(r=this.processMessage(o))&&(i={id:Date.now()+1,message:r,actorDisplayName:"NextBot",actorId:"bot",timestamp:Math.floor(Date.now()/1e3),conversation:{token:"bot",displayName:"NextBot Assistant",type:"bot"},reactions:[],isBot:!0},this.messages.unshift(i),this.updateContent()),this.hideBotTyping(),this.botTyping=!1;case 3:return n.a(2)}},n,this)})),function(){return o.apply(this,arguments)})},{key:"processMessage",value:function(n){var e=n.toLowerCase().trim();return this.isGreeting(e)?this.getRandomResponse("greetings"):this.isHelpRequest(e)?this.getRandomResponse("help"):this.isGroupRelated(e)?this.getRandomResponse("groupCreation"):this.isCallRelated(e)?this.getRandomResponse("videoCall"):this.isUserRelated(e)?this.getRandomResponse("users"):this.isFeatureRelated(e)?this.getRandomResponse("features"):this.isTechnicalQuestion(e)?this.getRandomResponse("technical"):this.isEncouragement(e)?this.getRandomResponse("encouragement"):this.getRandomResponse("default")}},{key:"isGreeting",value:function(n){return["hello","hi","hey","good morning","good afternoon","good evening","greetings","howdy"].some(function(e){return n.includes(e)})}},{key:"isHelpRequest",value:function(n){return["help","assist","support","guide","how to","what can","what do","commands"].some(function(e){return n.includes(e)})}},{key:"isGroupRelated",value:function(n){return["group","create group","new group","add group","group chat","team chat"].some(function(e){return n.includes(e)})}},{key:"isCallRelated",value:function(n){return["call","video","audio","meeting","conference","phone","start call","video call"].some(function(e){return n.includes(e)})}},{key:"isUserRelated",value:function(n){return["user","users","people","team","members","who","aashu","admin","adithya","dhanush"].some(function(e){return n.includes(e)})}},{key:"isFeatureRelated",value:function(n){return["feature","features","what can","capabilities","functions","options","tools"].some(function(e){return n.includes(e)})}},{key:"isTechnicalQuestion",value:function(n){return["technical","tech","built","technology","stack","api","code","development"].some(function(e){return n.includes(e)})}},{key:"isEncouragement",value:function(n){return["great","awesome","amazing","excellent","good job","well done","impressive","fantastic"].some(function(e){return n.includes(e)})}},{key:"getRandomResponse",value:function(n){var e={greetings:["Hello! I'm NextBot, your AI assistant! How can I help you today?","Hi there! I'm here to help with any questions you might have!","Hey! Welcome to Nextcloud Talk! I'm NextBot, ready to assist!","Greetings! I'm your AI assistant. What can I do for you?"],help:["I can help you with:\n• Creating groups\n• Managing conversations\n• Starting video calls\n• Finding users\n• General questions about Nextcloud Talk","Here's what I can do:\n• Answer questions about features\n• Help with group management\n• Assist with technical issues\n• Provide tips and tricks","I'm here to help! Ask me about:\n• How to use Nextcloud Talk\n• Group creation and management\n• Video calling features\n• User management"],groupCreation:["To create a group:\n1. Click the 'New Group' button\n2. Enter a group name\n3. Select members from the list\n4. Click 'Create Group'","Creating groups is easy! Just click the '+' button in the header, give your group a name, select members, and you're done!","Need help creating a group? Click the 'New Group' button, choose a name, pick your members, and hit create!"],videoCall:["To start a video call:\n1. Click the 📞 button on any message\n2. Or click 'Start Call' in the message actions\n3. Your browser will ask for camera/microphone permission","Starting a call is simple! Just click the phone icon next to any message or use the call button in the message actions.","Video calls are one click away! Look for the 📞 button on messages or in the message actions menu."],users:["Current users in the system:\n• Aashu (aashu123)\n• Admin (admin123)\n• Adithya (adithya123)\n• Dhanush (dhanush123)","Here are the available users:\n• Aashu - Project Lead\n• Admin - System Administrator\n• Adithya - Developer\n• Dhanush - Designer","The team consists of:\n• Aashu (Online)\n• Admin (Online)\n• Adithya (Offline)\n• Dhanush (Online)"],features:["Nextcloud Talk features:\n• Real-time messaging\n• Group conversations\n• Video/audio calls\n• File sharing\n• Emoji reactions\n• Online status\n• Message history","Key features include:\n• Instant messaging\n• Group management\n• Video calling\n• File sharing\n• Emoji reactions\n• User presence\n• Search functionality","Available features:\n• Chat messaging\n• Group creation\n• Video calls\n• File sharing\n• Reactions\n• Notifications\n• Mobile support"],technical:["Technical details:\n• Built with Vue.js 3\n• Uses Nextcloud Talk API\n• Real-time WebSocket connections\n• Docker containerized\n• Responsive design","This is built with:\n• Vue.js for the frontend\n• Nextcloud for the backend\n• Docker for deployment\n• WebSocket for real-time updates","Tech stack:\n• Frontend: Vue.js, Tailwind CSS\n• Backend: Nextcloud, PHP\n• Database: MariaDB\n• Cache: Redis"],encouragement:["You're doing great! This is an amazing hackathon project! 🚀","Keep up the excellent work! This project is really impressive! 💪","Wow! This is definitely a 10/10 hackathon project! 🏆","Fantastic work! The judges are going to love this! ⭐"],default:["I'm not sure I understand that. Can you ask me about groups, video calls, users, or features?","Hmm, I didn't catch that. Try asking about creating groups, starting calls, or user management!","I'm still learning! Ask me about Nextcloud Talk features, group creation, or how to use the system.","Not sure about that one. I can help with groups, calls, users, or general questions about the platform!"]},t=e[n]||e.default;return t[Math.floor(Math.random()*t.length)]}},{key:"toggleChatbot",value:function(){this.chatbotEnabled=!this.chatbotEnabled;var n=document.getElementById("chatbot-input"),e=document.querySelector(".talk-widget__bot-toggle");this.chatbotEnabled?(n.style.display="block",e.classList.add("active")):(n.style.display="none",e.classList.remove("active"))}},{key:"showBotTyping",value:function(){var n=document.getElementById("bot-typing");n&&(n.style.display="block")}},{key:"hideBotTyping",value:function(){var n=document.getElementById("bot-typing");n&&(n.style.display="none")}},{key:"showCreateGroupModal",value:function(){var n=document.getElementById("group-modal");n&&(n.style.display="flex")}},{key:"hideCreateGroupModal",value:function(){var n=document.getElementById("group-modal");n&&(n.style.display="none")}},{key:"createGroup",value:function(){var n=document.getElementById("group-name").value,e=document.querySelectorAll(".member-checkbox:checked"),t=Array.from(e).map(function(n){return n.value});if(n&&0!==t.length){var o={token:"group_".concat(Date.now()),displayName:n,type:"group",participants:t};this.conversations.push(o),this.hideCreateGroupModal(),document.getElementById("group-name").value="",document.querySelectorAll(".member-checkbox").forEach(function(n){return n.checked=!1}),alert('Group "'.concat(n,'" created successfully!'))}else alert("Please enter a group name and select at least one member.")}},{key:"loadOnlineUsers",value:function(){this.availableUsers.forEach(function(n){n.online=Math.random()>.3}),this.onlineUsers=this.availableUsers.filter(function(n){return n.online});var n=document.getElementById("online-indicator");n&&(n.textContent="".concat(this.onlineUsers.length," online"))}},{key:"loadConversations",value:function(){this.conversations=[{token:"conv1",displayName:"General Discussion",type:"group",participants:["aashu","admin","adithya","dhanush"]},{token:"conv2",displayName:"Project Updates",type:"group",participants:["aashu","admin"]}]}},{key:"startRealTimeUpdates",value:function(){var n=this;setInterval(function(){Math.random()>.8&&n.addRandomMessage()},1e4)}},{key:"addRandomMessage",value:function(){var n=this.availableUsers,e=this.conversations,t=n[Math.floor(Math.random()*n.length)],o=e[Math.floor(Math.random()*e.length)],a=["Hey everyone! 👋","How's the project going?","Great work on the latest update! 🎉","Can we schedule a meeting?","I'll be online in a few minutes","Thanks for the help! 🙏","Let's discuss this in detail","Perfect! That's exactly what we needed"],r={id:Date.now(),message:a[Math.floor(Math.random()*a.length)],actorDisplayName:t.displayName,actorId:t.id,timestamp:Math.floor(Date.now()/1e3),conversation:o,reactions:[]};this.messages.unshift(r),this.messages.length>10&&(this.messages=this.messages.slice(0,10)),this.updateContent()}},{key:"attachEventListeners",value:function(){var n=this,e=document.getElementById("chatbot-message");e&&e.addEventListener("keypress",function(e){"Enter"===e.key&&n.sendMessage()});var t=document.getElementById("group-modal");t&&t.addEventListener("click",function(e){e.target===t&&n.hideCreateGroupModal()})}},{key:"destroy",value:function(){this.refreshInterval&&clearInterval(this.refreshInterval)}}],t&&r(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,o,i,s,l}();document.addEventListener("DOMContentLoaded",function(){document.getElementById("dashboard-talk-widget")&&((s=new l("dashboard-talk-widget")).init(),window.talkWidget=s)}),window.TalkWidget=l})();
//# sourceMappingURL=dashboardtalk-dashboard.js.map